Version 4
SHEET 1 1328 1060
WIRE -2560 -1648 -2656 -1648
WIRE -2400 -1648 -2480 -1648
WIRE -2304 -1648 -2400 -1648
WIRE -2096 -1648 -2224 -1648
WIRE -1824 -1552 -1904 -1552
WIRE -2400 -1520 -2400 -1648
WIRE -2304 -1520 -2400 -1520
WIRE -1904 -1520 -1904 -1552
WIRE -2096 -1504 -2096 -1648
WIRE -2096 -1504 -2240 -1504
WIRE -1952 -1504 -2096 -1504
WIRE -2304 -1488 -2816 -1488
WIRE -1952 -1440 -1952 -1456
WIRE -1904 -1424 -1904 -1440
WIRE -3040 -1408 -3040 -1456
WIRE -2816 -1328 -2816 -1488
WIRE -3040 -1280 -3040 -1328
WIRE -2816 -1152 -2816 -1248
WIRE -1280 -976 -1280 -992
WIRE -1744 -752 -1744 -816
WIRE -1008 -656 -1248 -656
WIRE -1744 -640 -1744 -672
WIRE -1296 -640 -1744 -640
WIRE -1008 -640 -1008 -656
WIRE -1744 -608 -1744 -640
WIRE -336 -544 -576 -544
WIRE -1008 -528 -1008 -560
WIRE -624 -528 -1008 -528
WIRE -1008 -512 -1008 -528
WIRE -1744 -432 -1744 -528
WIRE -1008 -368 -1008 -432
WIRE -624 -368 -624 -480
FLAG -2816 -1152 0
FLAG -1952 -1440 0
FLAG -1824 -1552 -2V
FLAG -3040 -1280 0
FLAG -3040 -1456 +5V
FLAG -1744 -816 0
FLAG -1744 -432 -2V
FLAG -1008 -368 -2V
FLAG -1248 -576 0
FLAG -1296 -592 0
FLAG -576 -464 0
FLAG -624 -368 -2V
FLAG -2656 -1648 0
FLAG -1904 -1424 0
FLAG -336 -464 0
FLAG -1280 -976 0
SYMBOL res -2208 -1664 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName RTOP
SYMATTR Value {mc(6.49k, tol_R)}
SYMBOL voltage -2816 -1344 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName VREF_LM27761
SYMATTR Value {mc(1.22, tol_VFB)}
SYMBOL res -2464 -1664 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName RBOT
SYMATTR Value {mc(10k, tol_R)}
SYMBOL e -1904 -1536 R0
SYMATTR InstName E2
SYMATTR Value -1
SYMBOL voltage -3040 -1424 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 5
SYMBOL voltage -1280 -1088 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName VREF_1.25V
SYMATTR Value {mc(1.25,tol_Vref)}
SYMBOL res -1760 -624 R0
SYMATTR InstName R100
SYMATTR Value {mc(47k, tol_R)}
SYMBOL res -1024 -656 R0
SYMATTR InstName R200
SYMATTR Value {mc(47k, tol_R)}
SYMBOL res -1024 -528 R0
SYMATTR InstName R3
SYMATTR Value 52.3k
SYMBOL e -1248 -672 R0
SYMATTR InstName E3
SYMATTR Value 1
SYMBOL OpAmps\\opamp -2272 -1568 R0
SYMATTR InstName U1
SYMATTR SpiceLine Aol=100Meg
SYMATTR SpiceLine2 GBW=1T
SYMBOL g -576 -560 R0
SYMATTR InstName G1
SYMATTR Value {1/2.5}
SYMBOL res -352 -560 R0
SYMATTR InstName R1
SYMATTR Value 1
SYMBOL res -1760 -768 R0
SYMATTR InstName R2
SYMATTR Value {mc(75k, tol_R)}
TEXT -2744 -1000 Left 2 !.tran 0 100m 0 startup
TEXT -2728 -832 Left 2 !.param tol_mult = 1\n.param tol_VFB = 0.02*tol_mult\n.param tol_R = 0.02*tol_mult\n.param tol_Vref = 0.01*tol_mult
TEXT -2736 -920 Left 2 !.function gc(nom,tol)(nom+nom*(gauss(tol/3)))\n.step param x 0 50 1
TEXT -2744 -968 Left 2 !.lib opamp.sub
TEXT -672 -648 Left 2 ;Servoed value of Drain Current in A
