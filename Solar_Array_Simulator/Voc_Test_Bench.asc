Version 4
SHEET 1 1072 2468
WIRE -1632 112 -1680 112
WIRE 176 112 -1632 112
WIRE 272 112 176 112
WIRE 432 112 368 112
WIRE 752 112 432 112
WIRE 928 112 832 112
WIRE 992 112 928 112
WIRE 176 224 176 112
WIRE -1680 256 -1680 112
WIRE -64 304 -64 256
WIRE 432 384 432 112
WIRE 176 400 176 304
WIRE 288 400 288 160
WIRE 288 400 176 400
WIRE -64 432 -64 384
WIRE 32 432 -64 432
WIRE -1680 496 -1680 336
WIRE -64 496 -64 432
WIRE 176 496 176 400
WIRE 32 544 32 432
WIRE 32 544 0 544
WIRE 112 544 32 544
WIRE 176 640 176 592
WIRE 272 640 176 640
WIRE 432 640 432 464
WIRE 432 640 352 640
WIRE -64 672 -64 592
WIRE 176 672 176 640
WIRE -64 784 -64 736
WIRE 176 784 176 752
WIRE 928 1104 928 112
WIRE 864 1152 448 1152
WIRE 448 1232 448 1152
WIRE 928 1280 928 1200
WIRE 448 1392 448 1312
WIRE 928 1392 928 1360
FLAG -1680 496 0
FLAG -1632 112 VIN
FLAG 992 112 VOUT
FLAG -64 784 0
FLAG -64 256 VIN
FLAG 176 784 0
FLAG 928 1392 0
FLAG 448 1392 0
SYMBOL voltage -1680 240 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 35
SYMBOL res 736 128 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName ROUT
SYMATTR Value 1µ
SYMBOL npn 0 496 M0
SYMATTR InstName Q3
SYMATTR Value 2N2222
SYMBOL npn 112 496 R0
SYMATTR InstName Q4
SYMATTR Value 2N2222
SYMBOL res -80 288 R0
SYMATTR InstName R5
SYMATTR Value 20k
SYMBOL res 160 656 R0
SYMATTR InstName R4
SYMATTR Value 1k
SYMBOL res 416 368 R0
SYMATTR InstName R7
SYMATTR Value {Rset_Voc}
SYMBOL res 160 208 R0
SYMATTR InstName R6
SYMATTR Value 10k
SYMBOL pmos 368 160 M270
SYMATTR InstName M2
SYMATTR Value FDC638P
SYMBOL res 368 624 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 1k
SYMBOL References\\LT1389-2.5 -64 704 R0
SYMATTR InstName U1
SYMBOL npn 864 1104 R0
SYMATTR InstName Q7
SYMBOL res 912 1264 R0
SYMATTR InstName R8
SYMATTR Value 1
SYMBOL voltage 448 1216 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName Vctl
SYMATTR Value 2
TEXT -1840 592 Left 2 !.dc Vctl 1 5 10m
TEXT -1840 616 Left 2 ;.dc V1 1 50 10m
TEXT -1840 648 Left 2 !.step param Rset_Voc list 1 10 100 1k 5k 10k
TEXT 40 896 Left 6 ;Voc Adjust:\n6V - 30V
TEXT -1840 728 Left 2 ;.step param Rset_Isc list 1 10 100 1k 5k 10k
TEXT -1840 768 Left 2 ;.param Rset_Isc = 10k
TEXT -1832 816 Left 2 !;tran 50m
TEXT -1840 872 Left 2 !.param Rset_Isc = 10k\n.param Rset_Voc = 10k
RECTANGLE Normal 624 848 -128 -48 2
