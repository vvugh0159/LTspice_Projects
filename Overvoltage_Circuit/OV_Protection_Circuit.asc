Version 4
SHEET 1 2024 868
WIRE 608 -672 528 -672
WIRE 656 -672 608 -672
WIRE 816 -672 736 -672
WIRE 928 -672 880 -672
WIRE 1216 -672 1216 -736
WIRE 320 -624 320 -768
WIRE 608 -592 608 -672
WIRE 736 -592 608 -592
WIRE 1216 -496 1216 -576
WIRE 320 -448 320 -544
WIRE 368 -448 320 -448
WIRE 320 -416 320 -448
WIRE 1840 -384 1744 -384
WIRE 1744 -320 1744 -384
WIRE 1696 -304 1600 -304
WIRE 320 -272 320 -320
WIRE 1696 -256 1648 -256
WIRE 1744 -208 1744 -240
WIRE -176 -160 -192 -160
WIRE 192 -160 -176 -160
WIRE 1088 -160 192 -160
WIRE 1200 -160 1088 -160
WIRE 1600 -160 1600 -304
WIRE 1600 -160 1200 -160
WIRE 1712 -160 1600 -160
WIRE -192 -144 -192 -160
WIRE 1200 -128 1200 -160
WIRE 192 -64 192 -160
WIRE 320 -64 192 -64
WIRE 624 -64 576 -64
WIRE 752 -64 704 -64
WIRE 976 -64 752 -64
WIRE -192 -48 -192 -64
WIRE 1088 -48 1088 -160
WIRE 1712 -32 1712 -160
WIRE 1200 -16 1200 -48
WIRE 1584 -16 1200 -16
WIRE 1648 -16 1648 -256
WIRE 1648 -16 1584 -16
WIRE 1664 -16 1648 -16
WIRE 976 0 976 -64
WIRE 1024 0 976 0
WIRE 976 32 976 0
WIRE 1200 32 1200 -16
WIRE -192 64 -192 32
WIRE 448 64 448 32
WIRE 752 64 752 -64
WIRE 752 64 448 64
WIRE 1088 80 1088 48
WIRE 1088 80 1040 80
WIRE 1136 80 1088 80
WIRE -192 176 -192 144
WIRE 1712 192 1712 64
WIRE 1792 192 1712 192
WIRE 1856 192 1792 192
WIRE 976 208 976 128
WIRE 1200 208 1200 128
WIRE 1440 208 1200 208
WIRE 1712 208 1712 192
WIRE 1712 208 1504 208
WIRE 1200 240 1200 208
WIRE 1712 256 1712 208
WIRE 1792 256 1792 192
WIRE -192 336 -192 256
WIRE 976 336 976 288
WIRE 1200 336 1200 320
WIRE 1712 336 1712 320
FLAG -192 336 0
FLAG 1712 336 0
FLAG 1792 336 0
FLAG 1856 192 OUT
FLAG -176 -160 IN
FLAG 1584 -16 GATE
FLAG 1744 -208 0
FLAG 1840 -384 VSG_PMOS
FLAG 320 -272 0
FLAG 528 -672 0
FLAG 1216 -496 0
FLAG 1200 336 0
FLAG 976 336 0
SYMBOL voltage -192 160 M0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value PULSE(0 5 10m 5m 1u 50m)
SYMBOL voltage -192 48 M0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value PULSE(0 10 10m 5m 1u 5m)
SYMBOL res 1184 -144 R0
SYMATTR InstName R2
SYMATTR Value {2.5/{IREF}}
SYMBOL pmos 1664 64 M180
SYMATTR InstName M1
SYMATTR Value IRF7220
SYMBOL cap 1696 256 R0
SYMATTR InstName C1
SYMATTR Value 50µ
SYMBOL res 1776 240 R0
SYMATTR InstName R4
SYMATTR Value {RL}
SYMBOL e 1744 -336 R0
SYMATTR InstName E1
SYMATTR Value 1
SYMBOL res 832 -608 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value {({VMAX}-{VREF})/(0.8*{IREF})}
SYMBOL npn 384 -416 M0
SYMATTR InstName Q3
SYMATTR Value 2N2222
SYMBOL res 336 -640 M0
SYMATTR InstName R6
SYMATTR Value {(2.7-{VREF})/1m}
SYMBOL cap 880 -688 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value 0.01µ
SYMBOL res 752 -688 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 10k
SYMBOL zener 1440 224 R270
WINDOW 0 36 32 VTop 2
WINDOW 3 -4 32 VBottom 2
SYMATTR InstName D1
SYMATTR Value 1N750
SYMBOL res -176 -48 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R8
SYMATTR Value 50m
SYMBOL pnp 1152 -576 M180
SYMATTR InstName Q4
SYMATTR Value 2N2907
SYMBOL npn 1136 32 R0
SYMATTR InstName Q6
SYMATTR Value 2N2222
SYMBOL res 1184 224 R0
SYMATTR InstName R9
SYMATTR Value {{VSET}/{IREF}}
SYMBOL res 640 -400 R0
SYMATTR InstName R10
SYMATTR Value {{VREF}/{IREF}}
SYMBOL PowerProducts\\LT317A 448 -64 R0
SYMATTR InstName U1
SYMBOL res 608 -48 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R1
SYMATTR Value {VREF/1m}
SYMBOL npn 1040 32 M0
SYMATTR InstName Q1
SYMATTR Value 2N2222
SYMBOL res 960 192 R0
SYMATTR InstName R3
SYMATTR Value {{VSET}/1m}
SYMBOL npn 1024 -48 R0
SYMATTR InstName Q2
SYMATTR Value 2N2222
SYMBOL voltage -192 -64 M0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value PULSE(0 -1 25m 1u 1u 5m)
TEXT -216 416 Left 2 !.tran 0 100m 0 startup
TEXT -224 448 Left 2 !.param VREF = 1.25\n.param IREF = 10m\n.param VSET = 0.3\n.param VMAX = 5.1
TEXT -240 752 Left 2 ;.dc V1 0 30 10m
TEXT -240 720 Left 2 !.step param RL list 10 100 1k 10k 100k
TEXT -232 664 Left 2 !.step temp list -40 25 125
