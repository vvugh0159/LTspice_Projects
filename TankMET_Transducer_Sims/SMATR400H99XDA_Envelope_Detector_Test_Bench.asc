Version 4
SHEET 1 4848 2852
WIRE 2912 592 2704 592
WIRE 1936 608 1696 608
WIRE 2128 608 2016 608
WIRE 2192 608 2128 608
WIRE 2320 608 2272 608
WIRE 2368 608 2320 608
WIRE 2704 640 2704 592
WIRE 2128 656 2128 608
WIRE 2320 656 2320 608
WIRE 1696 688 1696 608
WIRE 2128 768 2128 720
WIRE 2320 768 2320 720
WIRE 2704 768 2704 720
WIRE 1696 784 1696 768
WIRE 2784 992 2528 992
WIRE 2288 1056 1952 1056
WIRE 2576 1088 2576 1072
WIRE 2528 1136 2528 992
WIRE 2544 1136 2528 1136
WIRE 2000 1168 2000 1152
WIRE 2784 1168 2784 992
WIRE 2784 1168 2688 1168
WIRE 2896 1168 2784 1168
WIRE 3024 1168 2976 1168
WIRE 3120 1168 3024 1168
WIRE 1952 1184 1952 1056
WIRE 1968 1184 1952 1184
WIRE 2192 1200 2032 1200
WIRE 2288 1200 2288 1056
WIRE 2288 1200 2256 1200
WIRE 2320 1200 2288 1200
WIRE 2432 1200 2320 1200
WIRE 2544 1200 2432 1200
WIRE 1728 1216 1616 1216
WIRE 1888 1216 1792 1216
WIRE 1968 1216 1888 1216
WIRE 3024 1232 3024 1168
WIRE 2000 1248 2000 1232
WIRE 2320 1264 2320 1200
WIRE 2432 1264 2432 1200
WIRE 2576 1264 2576 1248
WIRE 1392 1280 1392 1248
WIRE 1888 1280 1888 1216
WIRE 3024 1376 3024 1296
WIRE 2320 1392 2320 1344
WIRE 2432 1392 2432 1328
WIRE 1392 1408 1392 1360
WIRE 1888 1408 1888 1360
WIRE 384 1472 384 1408
WIRE 2800 1504 2544 1504
WIRE 2288 1568 1952 1568
WIRE 2592 1600 2592 1584
WIRE 384 1616 384 1552
WIRE 2544 1648 2544 1504
WIRE 2560 1648 2544 1648
WIRE 2000 1680 2000 1664
WIRE 2800 1680 2800 1504
WIRE 2800 1680 2704 1680
WIRE 2864 1680 2800 1680
WIRE 2992 1680 2944 1680
WIRE 3056 1680 2992 1680
WIRE 4624 1680 4416 1680
WIRE 1952 1696 1952 1568
WIRE 1968 1696 1952 1696
WIRE 3648 1696 3408 1696
WIRE 3840 1696 3728 1696
WIRE 3904 1696 3840 1696
WIRE 4032 1696 3984 1696
WIRE 4080 1696 4032 1696
WIRE 2192 1712 2032 1712
WIRE 2288 1712 2288 1568
WIRE 2288 1712 2256 1712
WIRE 2320 1712 2288 1712
WIRE 2432 1712 2320 1712
WIRE 2560 1712 2432 1712
WIRE 1696 1728 1616 1728
WIRE 1856 1728 1760 1728
WIRE 1936 1728 1856 1728
WIRE 1968 1728 1936 1728
WIRE 4416 1728 4416 1680
WIRE 2992 1744 2992 1680
WIRE 3840 1744 3840 1696
WIRE 4032 1744 4032 1696
WIRE 2000 1760 2000 1744
WIRE 2320 1776 2320 1712
WIRE 2432 1776 2432 1712
WIRE 2592 1776 2592 1760
WIRE 3408 1776 3408 1696
WIRE 1392 1792 1392 1760
WIRE 1856 1792 1856 1728
WIRE 3840 1856 3840 1808
WIRE 4032 1856 4032 1808
WIRE 4416 1856 4416 1808
WIRE 3408 1872 3408 1856
WIRE 2992 1888 2992 1808
WIRE 2320 1904 2320 1856
WIRE 2432 1904 2432 1840
WIRE 1392 1920 1392 1872
WIRE 1856 1920 1856 1872
WIRE 1936 1984 1936 1728
WIRE 1264 2064 768 2064
WIRE 1888 2064 1344 2064
WIRE 768 2112 768 2064
WIRE 768 2240 768 2192
WIRE 1936 2240 1936 2080
FLAG 384 1616 0
FLAG 384 1408 VCC
FLAG 1616 1728 RX_LNA
FLAG 2000 1760 0
FLAG 2000 1664 VCC
FLAG 2320 1904 0
FLAG 2432 1904 0
FLAG 3056 1680 RX_ENVELOPE
FLAG 1392 1920 0
FLAG 1392 1760 RX_LNA
FLAG 1616 1216 TX_LNA
FLAG 2000 1248 0
FLAG 2000 1152 VCC
FLAG 2320 1392 0
FLAG 2432 1392 0
FLAG 3024 1376 0
FLAG 3120 1168 TX_ENVELOPE
FLAG 1392 1408 0
FLAG 1392 1248 TX_LNA
FLAG 1936 2240 0
FLAG 768 2240 0
FLAG 1696 784 0
FLAG 2128 768 0
FLAG 2320 768 0
FLAG 2368 608 TX_MEAN_SQUARE
FLAG 2704 768 0
FLAG 2912 592 TX_RMS
FLAG 3408 1872 0
FLAG 3840 1856 0
FLAG 4032 1856 0
FLAG 4080 1696 RX_MEAN_SQUARE
FLAG 4416 1856 0
FLAG 4624 1680 RX_RMS
FLAG 2992 1888 0
FLAG 2592 1776 0
FLAG 2592 1584 VCC
FLAG 2576 1264 0
FLAG 2576 1072 VCC
FLAG 1888 1408 0
FLAG 1856 1920 0
SYMBOL voltage 384 1456 M0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value 3.3
SYMBOL res 2304 1760 R0
SYMATTR InstName R25
SYMATTR Value 10k
SYMBOL cap 2416 1776 R0
SYMATTR InstName C13
SYMATTR Value 2nF
SYMBOL voltage 1392 1776 M0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value PWL file=rx_data.txt
SYMBOL res 2304 1248 R0
SYMATTR InstName R2
SYMATTR Value 10k
SYMBOL cap 2416 1264 R0
SYMATTR InstName C2
SYMATTR Value 2nF
SYMBOL schottky 2192 1216 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D1
SYMATTR Value RB450F
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL res 2992 1152 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 1k
SYMBOL cap 3008 1232 R0
SYMATTR InstName C3
SYMATTR Value 1n
SYMBOL voltage 1392 1264 M0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value PWL file=tx_data.txt
SYMBOL nmos 1888 1984 R0
SYMATTR InstName M1
SYMATTR Value SiR800DP
SYMBOL voltage 768 2096 M0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value PULSE(0 3.3 0 1n 1n 100u)
SYMBOL res 1360 2048 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 49.9
SYMBOL Opamps\\LTC6246 2000 1200 R0
SYMATTR InstName U1
SYMBOL Opamps\\LTC6246 2000 1712 R0
SYMATTR InstName U2
SYMBOL bv 1696 672 R0
SYMATTR InstName B1
SYMATTR Value V={(V(TX_LNA)*V(TX_LNA))}
SYMBOL res 2032 592 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 1k
SYMBOL cap 2112 656 R0
SYMATTR InstName C4
SYMATTR Value 1n
SYMBOL res 2288 592 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 1k
SYMBOL cap 2304 656 R0
SYMATTR InstName C5
SYMATTR Value 1n
SYMBOL bv 2704 624 R0
SYMATTR InstName B2
SYMATTR Value V={SQRT(V(TX_MEAN_SQUARE))}
SYMBOL bv 3408 1760 R0
SYMATTR InstName B3
SYMATTR Value V={(V(RX_LNA)*V(RX_LNA))}
SYMBOL res 3744 1680 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 1k
SYMBOL cap 3824 1744 R0
SYMATTR InstName C6
SYMATTR Value 1n
SYMBOL res 4000 1680 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 1k
SYMBOL cap 4016 1744 R0
SYMATTR InstName C7
SYMATTR Value 1n
SYMBOL bv 4416 1712 R0
SYMATTR InstName B4
SYMATTR Value V={SQRT(V(RX_MEAN_SQUARE))}
SYMBOL res 2960 1664 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value 1k
SYMBOL cap 2976 1744 R0
SYMATTR InstName C8
SYMATTR Value 1n
SYMBOL schottky 2192 1728 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D2
SYMATTR Value RB450F
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL Opamps\\LTC6262 2592 1680 R0
SYMATTR InstName U4
SYMBOL Opamps\\LTC6262 2576 1168 R0
SYMATTR InstName U3
SYMBOL res 1872 1264 R0
SYMATTR InstName R1
SYMATTR Value 10k
SYMBOL cap 1792 1200 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 0.1µF
SYMBOL res 1840 1776 R0
SYMATTR InstName R10
SYMATTR Value 10k
SYMBOL cap 1760 1712 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C9
SYMATTR Value 0.1µF
TEXT 368 1688 Left 2 !.tran 0 0.4m 0
TEXT 368 1720 Left 2 !.model SW SW(Ron=0.1 Roff=100Meg Vt=0.5 Vh=-0.1)
TEXT 360 1784 Left 2 !.param PWM_CYCLES 5
TEXT 368 1832 Left 2 !.lib OPA354.LIB
TEXT 368 1864 Left 2 !.lib ADG779.lib
